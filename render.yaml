services:
  - type: web
    name: sistema-practicas-uleam
    env: python
    region: oregon
    plan: free
    branch: main
    buildCommand: "bash build.sh"
    startCommand: "gunicorn sistema_practicas.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --threads 4 --timeout 120 --access-logfile - --error-logfile -"
    healthCheckPath: /
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: SECRET_KEY
        generateValue: true
      - key: DEBUG
        value: "False"
      - key: ALLOWED_HOSTS
        value: ".onrender.com,localhost,127.0.0.1"
      - key: CSRF_TRUSTED_ORIGINS
        value: "https://*.onrender.com"
      # ðŸ”¹ CONFIGURACIÃ“N DE SUPABASE (configurar en Render Dashboard)
      - key: DATABASE_URL
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_KEY
        sync: false
      # ðŸ¤– OPENAI API (Chatbot Inteligente)
      - key: OPENAI_API_KEY
        sync: false
      # ðŸ“§ CONFIGURACIÃ“N DE EMAIL (Opcional)
      - key: EMAIL_BACKEND
        value: "django.core.mail.backends.console.EmailBackend"
      - key: DEFAULT_FROM_EMAIL
        value: "noreply@uleam.edu.ec"
    autoDeploy: true

